# 数据卷

问题：

1. Docker容器删除后，在容器中产生的数据也会随之销毁（容器数据持久化）；
2. Docker容器和外部机器可以直接交换文件吗？
3. 容器之间如何进行数据交互？

数据卷：

1. 数据卷是宿主机中的一个目录或文件；
2. 当容器目录和数据卷目录绑定后，对方的修改会立即同步；
3. 一个数据卷可以被多个容器同时挂载；
4. 一个容器可以挂在多个数据卷；

配置数据卷：

- 创建启动容器时，使用-v参数设置数据卷；

  ```
  docker run ... -v 宿主机目录(文件):容器类目录(文件) ...
  ```

- 注意事项：

  - 目录必须绝对路径；
  - 如果目录不存在，则自动创建；
  - 可以挂载多个数据卷；

数据卷容器：

多容器进行数据交换：

1. 多个容器挂载同一个数据卷
2. 数据卷容器

配置数据卷容器：

1. 创建启动c3数据卷容器，使用-v参数设置数据卷

   ```
   docker run -it --name=c3 -v /volume centos:7 /bin/bash
   ```

2. 创建启动c1 c2容器，使用--volumns-from参数 设置数据卷

   ```
   docker run -it --name=c1 --volumes-from c3 centos:7 /bin/bash
   ```

   